<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vercel Email API</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap">
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDJMMiAxOS41SDIyTDEyIDJaIiBmaWxsPSIjMjU2M2ViIi8+PC9zdmc+">
  <script async src="http://localhost:3000/tracker.js" data-website-id="http://localhost:5000/"></script>
  <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "rb5bhvynfo");
  </script>
</head>
<body>
  <div class="container">
    <header class="header">
      <div class="logo">
        <div class="logo-icon">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2L2 19.5H22L12 2Z" fill="currentColor"/>
          </svg>
        </div>
        <div class="logo-text">Vercel Email API</div>
      </div>
      <nav class="nav">
        <div class="tabs">
          <div class="tab active" data-tab="intro">
            <span>介绍</span>
          </div>
          <div class="tab" data-tab="docs">
            <span>API文档</span>
          </div>
          <div class="tab" data-tab="test">
            <span>测试发送</span>
          </div>
        </div>
      </nav>
    </header>

    <main>
      <!-- 介绍部分 -->
      <section class="tab-content active" id="intro">
        <div class="card hero-card">
          <div class="card-content">
            <h1>Vercel Email API</h1>
            <p class="subtitle">基于Vercel Serverless Functions的邮件发送服务，轻松集成到任何前端应用</p>
            <div class="cta-buttons">
              <button class="btn primary" onclick="switchToTab('docs')">查看文档</button>
              <button class="btn secondary" onclick="switchToTab('test')">立即测试</button>
            </div>
          </div>
        </div>

        <div class="card feature-card">
          <div class="card-content">
            <h2>功能特点</h2>
            <div class="features-grid">
              <div class="feature-item">
                <div class="feature-icon">📧</div>
                <h3>稳定可靠</h3>
                <p>使用 Nodemailer 发送邮件，确保高送达率</p>
              </div>
              <div class="feature-item">
                <div class="feature-icon">🔄</div>
                <h3>多种格式</h3>
                <p>支持纯文本和 HTML 格式邮件</p>
              </div>
              <div class="feature-item">
                <div class="feature-icon">🌐</div>
                <h3>跨域支持</h3>
                <p>支持 CORS，可配置允许访问的域名</p>
              </div>
              <div class="feature-item">
                <div class="feature-icon">☁️</div>
                <h3>无服务器</h3>
                <p>部署在 Vercel 平台，无需维护服务器</p>
              </div>
              <div class="feature-item">
                <div class="feature-icon">🔒</div>
                <h3>安全特性</h3>
                <p>内置速率限制、请求验证等安全机制</p>
              </div>
              <div class="feature-item">
                <div class="feature-icon">📊</div>
                <h3>错误处理</h3>
                <p>完整的错误处理和日志记录</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- API文档部分 -->
      <section class="tab-content" id="docs">
        <div class="card">
          <div class="card-content">
            <h2>API 文档</h2>
            <div class="docs-section">
              <h3>请求地址</h3>
              <div class="api-endpoint">
                <span class="endpoint-text">/api</span>
                <button class="copy-endpoint" onclick="navigator.clipboard.writeText('/api')">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                  </svg>
                </button>
              </div>
              <h3>请求参数</h3>
              <table class="api-params-table">
                <thead>
                  <tr>
                    <th>参数</th>
                    <th>类型</th>
                    <th>必填</th>
                    <th>说明</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>to</td>
                    <td>string</td>
                    <td>是</td>
                    <td>收件人邮箱地址</td>
                  </tr>
                  <tr>
                    <td>subject</td>
                    <td>string</td>
                    <td>是</td>
                    <td>邮件主题</td>
                  </tr>
                  <tr>
                    <td>text</td>
                    <td>string</td>
                    <td>可选</td>
                    <td>纯文本内容（text和html至少提供一个）</td>
                  </tr>
                  <tr>
                    <td>html</td>
                    <td>string</td>
                    <td>可选</td>
                    <td>HTML格式内容（text和html至少提供一个）</td>
                  </tr>
                  <tr>
                    <td>from_name</td>
                    <td>string</td>
                    <td>否</td>
                    <td>发送者名称</td>
                  </tr>
                </tbody>
              </table>
            </div>
            
            <div class="docs-section">
              <h3>响应格式</h3>
              <div class="response-tabs">
                <div class="response-tab active" data-response="success">成功响应</div>
                <div class="response-tab" data-response="error">错误响应</div>
              </div>
              
              <div class="response-content active" id="success-response">
                <div class="code-container">
                  <pre><code>{
  "success": true,
  "messageId": "邮件ID"
}</code></pre>
                  <button class="copy-btn" data-clipboard-target="#success-response">复制</button>
                </div>
              </div>
              
              <div class="response-content" id="error-response">
                <div class="code-container">
                  <pre><code>{
  "error": "错误信息",
  "details": "详细错误信息"
}</code></pre>
                  <button class="copy-btn" data-clipboard-target="#error-response">复制</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-content">
            <h2>使用示例</h2>
            <div class="docs-section">
              <h3>代码示例</h3>
              <div class="code-tabs">
                <div class="code-tab active" data-code="fetch">Fetch API</div>
                <div class="code-tab" data-code="axios">Axios</div>
                <div class="code-tab" data-code="jquery">jQuery</div>
              </div>
              
              <div class="code-content active" id="fetch-example">
                <div class="code-container">
                  <pre><code>// 使用Fetch API发送邮件
const sendEmail = async () => {
  const response = await fetch('https://your-vercel-app.vercel.app/api', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      to: 'recipient@example.com',
      subject: '测试邮件',
      text: '这是一封测试邮件'
    })
  });
  
  const data = await response.json();
  return data.success ? data.messageId : Promise.reject(data.error);
}</code></pre>
                  <button class="copy-btn" data-clipboard-target="#fetch-example">复制</button>
                </div>
              </div>
              
              <div class="code-content" id="axios-example">
                <div class="code-container">
                  <pre><code>// 使用Axios发送邮件
const sendEmail = async () => {
  const response = await axios.post('https://your-vercel-app.vercel.app/api', {
    to: 'recipient@example.com',
    subject: '测试邮件',
    text: '这是一封测试邮件'
  });
  
  return response.data.success ? response.data.messageId : Promise.reject(response.data.error);
}</code></pre>
                  <button class="copy-btn" data-clipboard-target="#axios-example">复制</button>
                </div>
              </div>
              
              <div class="code-content" id="jquery-example">
                <div class="code-container">
                  <pre><code>// 使用jQuery发送邮件
function sendEmail() {
  return new Promise((resolve, reject) => {
    $.ajax({
      url: 'https://your-vercel-app.vercel.app/api',
      type: 'POST',
      contentType: 'application/json',
      data: JSON.stringify({
        to: 'recipient@example.com',
        subject: '测试邮件',
        text: '这是一封测试邮件'
      }),
      success: data => data.success ? resolve(data.messageId) : reject(data.error),
      error: (_, __, error) => reject(error)
    });
  });
}</code></pre>
                  <button class="copy-btn" data-clipboard-target="#jquery-example">复制</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- 测试发送部分 -->
      <section class="tab-content" id="test">
        <div class="card">
          <div class="card-content">
            <h2>测试发送邮件</h2>
            <p>使用下面的表单测试邮件发送功能：</p>
            
            <form id="emailForm" class="email-form">
              <div class="form-group">
                <label for="to">收件人邮箱</label>
                <input type="email" id="to" name="to" required placeholder="example@example.com">
              </div>
              
              <div class="form-group">
                <label for="subject">邮件主题</label>
                <input type="text" id="subject" name="subject" required placeholder="输入邮件主题">
              </div>
              
              <div class="form-group">
                <label>内容类型</label>
                <div class="toggle-container">
                  <input type="radio" id="text-type" name="content-type" value="text" checked>
                  <input type="radio" id="html-type" name="content-type" value="html">
                  <label for="text-type" class="toggle-btn">纯文本</label>
                  <label for="html-type" class="toggle-btn">HTML</label>
                  <div class="toggle-indicator"></div>
                </div>
              </div>
              
              <div class="form-group">
                <label for="content">邮件内容</label>
                <textarea id="content" name="content" required placeholder="输入邮件内容"></textarea>
              </div>
              
              <div class="form-group">
                <label for="from_name">发送者名称（可选）</label>
                <input type="text" id="from_name" name="from_name" placeholder="输入发送者名称">
              </div>
              
              <button type="submit" id="sendBtn" class="btn primary submit-btn">
                <span class="btn-text">发送邮件</span>
                <span class="btn-icon">→</span>
              </button>
            </form>
            
            <div id="result" class="result-container"></div>
          </div>
        </div>
      </section>
    </main>

    <footer class="footer">
      <div class="footer-content">
        <p>© 2023 Vercel Email API. 基于 Vercel Serverless Functions 构建。</p>
        <div class="footer-links">
          <a href="https://vercel.com" target="_blank" rel="noopener noreferrer">Vercel</a>
          <a href="https://github.com/yourusername/vercel-email" target="_blank" rel="noopener noreferrer">GitHub</a>
        </div>
      </div>
    </footer>
  </div>
  
  <script src="script.js"></script>
</body>
</html>